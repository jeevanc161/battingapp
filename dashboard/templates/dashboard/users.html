{% extends 'dashboard/__base__.html' %}
{% load static %}

{% block content %} 
  	<main>
		<header class="page-header page-header-dark bg-gradient-primary-to-secondary pb-10">
		    <div class="container">
		        <div class="page-header-content pt-4">
		            <div class="row align-items-center justify-content-between">
		                <div class="col-auto mt-4">
		                    <h1 class="page-header-title">
		                        <div class="page-header-icon"><i data-feather="filter"></i></div>
		                        Users
		                    </h1>
		                    <div class="page-header-subtitle">List of all Users</div>
		                </div>
		                <div class="col-auto mt-4">
				                	<button class="btn btn-white p-3" id="reportrange" name="date">
		                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar mr-2 text-primary"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>
		                        <span>June 18, 2021 - July 17, 2021</span>
		                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-down ml-1"><polyline points="6 9 12 15 18 9"></polyline></svg>
		                    	</button>

		                </div>
		            </div>
		        </div>
		    </div>
		</header>
<!-- Example DataTable for Dashboard Demo-->
 		<div class="container mt-n10">
            <div class="card card-header-actions mb-4">
            			<div class="card-header">
            				User Data Table
										<div class="dropdown">
										    <button class="btn btn-teal dropdown-toggle" id="dropdownMenuButton" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Export</button>
										    <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
										        <a class="dropdown-item" href="{% url 'dashboard:csv_export' %}">CSV Export</a>
										        <a class="dropdown-item" href="{% url 'dashboard:pdf_export' %}">PDF Export</a>
										    </div>
										</div>
            			</div>
            			<div class="">
                      {% if messages %}
	                      {% for msg in messages %}
	                      	<div class="card-header text-end text-success">{{ msg }}</div>
	                      {% endfor %}
                      {% endif %}
                  </div> 
                
                  <div class="card-body">
                    <div class="datatable">
                    <table class="table table-bordered table-hover" id="dataTable" width="100%" cellspacing="0">
	                <thead>
	                    <tr>
	                        <th>Name</th>
	                        <th>Email</th>
	                        <th>Phone</th>
	                        <th>Date Of Birth</th>
	                        <th>Wallet Amount</th>
	                        <th>Bonus Amount </th>
	                        <th>Opening Bonus</th>
	                        <th>Edit Delete</th>
	                    </tr>
	                </thead>
	                <tfoot>
	                    <tr>
	                        <th>Name</th>
	                        <th>Email</th>
	                        <th>Phone</th>
	                        <th>Date Of Birth</th>
	                        <th>Wallet Amount</th>
	                        <th>Bonus Amount </th>
	                        <th>Opening Bonus</th>
	                        <th>Edit Delete</th>
	                    </tr>
	                </tfoot>
	                <tbody>
	                {% for user in users %}
	                    <tr>
	                        <td>{{user.first_name }}</td>
	                        <td>{{user.email }}</td>
	                        <td> {{user.phone_number}} </td>
	                        <td> {{ user.dob }} </td>
	                        <td> {{ user.wallet_amount }} </td>
	                        <td> {{ user.total_bonus_amount }} </td>
	                        <td> {{ user.account_opening_bonus }} </td>
	                        <td>

	                        	<a href="{% url 'dashboard:user_delete' user.id %}" title="delete" class="delete" onclick="return confirm('Are you sure you want to delete this item')">
	                        		<button class="btn btn-datatable btn-icon btn-transparent-dark">
	                           		<i data-feather="trash-2"></i>
	                           	</button>
	                        	</a>

	                           <!-- <a href="{% url 'dashboard:user_delete' user.id %}">
	                           	<button class="btn btn-datatable btn-icon btn-transparent-dark">
	                           		<i data-feather="trash-2"></i>
	                           </button>
	                           </a> -->
	            
                            <a href="{% url 'dashboard:user_detail' user.pk %}">
                            	<button class="btn btn-datatable btn-icon btn-transparent-dark ">
                            	<i class="fas fa-eye"></i>
                            </button>
                            </a>      	                            
	                        </td>
	                    </tr>
	                {% endfor %}
	                </tbody>
	            </table>
	        </div>
	    </div>
	</div>
</main>

<script type="text/javascript">
		var dashboard_url = "{% url 'dashboard:user_list' %}"
		
</script>

{% endblock content%}