{% extends 'dashboard/__base__.html' %}
{% load static %}

{% block content %}

  	<main>
		<header class="page-header page-header-dark bg-gradient-primary-to-secondary pb-10">
		    <div class="container">
		        <div class="page-header-content pt-4">
		            <div class="row align-items-center justify-content-between">
		                <div class="col-auto mt-4">
		                    <h1 class="page-header-title">
		                        <div class="page-header-icon"><i data-feather="filter"></i></div>
		                        Trad History
		                    </h1>
		                    <div class="page-header-subtitle">List of All Trad</div>
		                </div>
		            </div>
		        </div>
		    </div>
		</header>
<!-- Example DataTable for Dashboard Demo-->
 		<div class="container mt-n10">
            <div class="card mb-4">
            			<div class="card-header">Trad History Data Table</div>   
                  <div class="card-body">
                    <div class="datatable">
                    <table class="table table-bordered table-hover" id = dataTable width="100%" cellspacing="0">
	                <thead>
	                    <tr>
	                        <th>Name</th>
	                        <th>Assert</th>
	                        <th>Date/Time</th>
	                        <th>Trad Type</th>
	                        <th>S A P</th>
	                        <th>E A P</th>
	                        <th>Status</th>
	                        <th>View Delete</th>
	                    </tr>
	                </thead>
	                <tfoot>
	                    <tr>
	                        <th>Name</th>
	                        <th>Assert</th>
	                        <th>Date/Time</th>
	                        <th>Trad Type</th>
	                        <th>S A P</th>
	                        <th>E A P</th>
	                        <th>Status</th>
	                        <th>View Delete</th>
	                    </tr>
	                </tfoot>
	                <tbody>
	                {% for trad_history in trad_historys %}
	                    <tr>
	                        <td> {{ trad_history.user_id.first_name }}</td>
	                        <td> {{ trad_history.assert_id.name }}</td>
	                        <td> {{ trad_history.date }} </td>
	                        <td> {{ trad_history.trad_type }}</td>
	                        <td> {{ trad_history.starting_asset_price }} </td>
	                        <td> {{ trad_history.ending_asset_price }}</td>
	                        <td>
	                        	{% if trad_history.trad_status == 0 %}
                                <div class="badge badge-warning badge-pill">Pending</div>
                            {% endif%}
                            {% if trad_history.trad_status == 1 %}
                                <div class="badge badge-primary badge-pill">Success</div>
                            {% endif%}
                            {% if trad_history.trad_status == 2 %}
                                <div class="badge badge-danger badge-pill">Decline</div>
                            {% endif%}
	                        </td>
	                        <td>
	                           <a href="{% url 'dashboard:trad_history_delete' trad_history.id %}"
	                           onclick="return confirm('Are you sure you want to delete this item')">
	                           	<button class="btn btn-datatable btn-icon btn-transparent-dark">
	                           		<i data-feather="trash-2"></i>
	                           </button>
	                           </a>
	            
	                            <a href="{% url 'dashboard:trad_history_detail' trad_history.pk %}">
	                            	<button class="btn btn-datatable btn-icon btn-transparent-dark ">
	                            	<i class="fas fa-eye"></i>
	                            </button>
	                            </a>	                            
	                        </td>
	                    </tr>
	                {% endfor %}
	                </tbody>
	            </table>
	        </div>
	    </div>
	</div>
</main>

{% endblock content %}