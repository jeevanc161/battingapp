{% extends 'dashboard/__base__.html' %}
{% load static %}

{% block content %}


  	<main>
		<header class="page-header page-header-dark bg-gradient-primary-to-secondary pb-10">
		    <div class="container">
		        <div class="page-header-content pt-4">
		            <div class="row align-items-center justify-content-between">
		                <div class="col-auto mt-4">
		                    <h1 class="page-header-title">
		                        <div class="page-header-icon"><i data-feather="filter"></i></div>
		                        Withdraw Request 
		                    </h1>
		                    <div class="page-header-subtitle">List of Withdraw Request</div>
		                </div>
		                
		            </div>
		        </div>
		    </div>
		</header>
<!-- Example DataTable for Dashboard Demo-->
 		<div class="container mt-n10">
            <div class="card mb-4">
            			<div class="card-header">Withdraw Request Data Table</div>
            			 <div class="">
                      {% if messages %}
                      {% for msg in messages %}
                      <div class="card-header text-end text-success">
                        {{ msg }}
                      </div>
                      {% endfor %}
                      {% endif %}
                  </div> 
								
                  <div class="card-body">
                    <div class="datatable">
                    <table class="table table-bordered table-hover" id = 'dataTable' width="100%" cellspacing="0">
	                <thead>
	                    <tr>
	                        <th>Name</th>
	                        <th>Request Amount</th>
	                        <th>Date Time</th>
	                        <th>Status</th>
	                        <th>Edit Delete</th>
	                    </tr>
	                </thead>
	                <tfoot>
	                    <tr>
	                        <th>Name</th>
	                        <th>Request Amount</th>
	                        <th>Date Time</th>
	                        <th>Status</th>
	                        <th>Edit Delete</th>
	                    </tr>
	                </tfoot>
	                <tbody>
	                {% for withdraw_request in withdraw_requests %}
	                    <tr>
	                        <td>{{ withdraw_request.user_id.first_name }}</td>
	                        <td>{{ withdraw_request.request_amount }}</td>
	                        <td> {{ withdraw_request.date_time }} </td>
	                        <td>
                        		{% if withdraw_request.status == 0 %}
	                        			<div class="badge badge-primary badge-pill">Pending</div>
	                        		{% endif %}	
	                        		{% if withdraw_request.status == 1 %}
	                        			<div class="badge badge-success badge-pill">Accepted</div>
	                        		{% endif %}	
	                        		{% if withdraw_request.status == 2 %}
	                        			<div class="badge badge-danger badge-pill">Cancel</div>
	                        		{% endif %}		                        
                        	</td>
	                        <td>
	                           <a href="{% url 'dashboard:withdraw_request_delete' withdraw_request.id %}" onclick="return confirm('Are you sure you want to delete this item')">
	                           	<button class="btn btn-datatable btn-icon btn-transparent-dark">
	                           		<i data-feather="trash-2"></i>
	                           </button>
	                           </a>
	            
	                            <a href="{% url 'dashboard:withdraw_request_detail' withdraw_request.pk %}">
	                            	<button class="btn btn-datatable btn-icon btn-transparent-dark ">
	                            	<i class="fas fa-eye"></i>
	                            </button>
	                            </a>

	                            <a href="{% url 'dashboard:withdraw_request_update' withdraw_request.pk %}" >
	                            	<button class="btn btn-datatable btn-icon btn-transparent-dark">
	                            	<i class="fas fa-user-edit"></i>
	                            </button>
	                            </a>
	                            
	                        </td>
	                    </tr>
	                {% endfor %}
	                </tbody>
	            </table>
	        </div>
		    
	    </div>
	</div>
</main>
{% endblock content %}